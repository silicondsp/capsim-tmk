/*
 * 		STAR_NAME()
 *
 * Generated by stargen
 *
 * Fixed Point source
 * Notes:
 *    This is a star generated from the fixed point source template
 *    It will output numberOfSamples  of samples defined by a parameter.
 *    It outputs a fixed point constant
 *
 * 
 *    
 * Programmer: 
 * Date: 
 * Modified: 
 *
 */



parameters
	param_def = "Total number of samples to output";
	int  numberOfSamples = 1000;
PARAMETERS
end

output_buffer
	int x;
end

states
	int	done=FALSE;
	int sampleCount=0;
end

declarations
	int i,j;
	doublePrecInt sample;
end

initialization_code

  /*
   * set the output buffer cell size to size of doublePrecInt
   */	
  set_cellsize_out(0,sizeof(doublePrecInt));


end

main_code
	if(done)return(0);
	/* 
	 * output a maximum of NUMBER_SAMPLES_PER_VISIT samples to output buffer(s) 
	 */
	for(i=0; i < NUMBER_SAMPLES_PER_VISIT; ++i) {
	   sampleCount++;
	   if(sampleCount == numberOfSamples) {
	       done=TRUE;
	       return(0);
	   }
	   
		
	   /*
	    * ready output buffer for sample
	    * check for overflow
	    */
	   if(it_out(0)) {
				KrnOverflow("STAR_NAME",0);
				return(99);
	   }
	   /*
	    * output the sample
	    */
	   sample.lowWord = 88 ;
	   sample.highWord= 99 ;

	   outdi(0,0)= sample;
			
			
	}
end

wrapup_code

end


